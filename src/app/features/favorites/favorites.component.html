<div class="favorites-header">
  <h1>My Favorites</h1>
  <span class="count">{{ store.favoriteCount() }} show{{ store.favoriteCount() !== 1 ? 's' : '' }}</span>
</div>

@if (store.favoriteShows().length === 0) {
  <div class="empty-state">
    <i class="pi pi-heart" aria-hidden="true"></i>
    <p>You have no favorites yet.</p>
    <p-button label="Browse Shows" icon="pi pi-arrow-left" (click)="goBack()" />
  </div>
} @else {
  <div class="show-grid">
    @for (show of store.favoriteShows(); track show.id) {
      <app-show-card
        [show]="show"
        (favoriteToggled)="onFavoriteToggled($event)"
        (editRequested)="onEditRequested($event)"
        (deleteRequested)="onDeleteRequested($event)"
      />
    }
  </div>
}

<app-edit-dialog
  [show]="editingShow()"
  [visible]="editDialogVisible()"
  (saved)="onEditSaved($event)"
  (closed)="onEditClosed()"
/>
